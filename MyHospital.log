2022-01-30 00:07:30.938  INFO 19216 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-01-30 22:02:37.049  INFO 18644 --- [main] c.i.m.s.impl.AppointmentServiceImplTest  : Starting AppointmentServiceImplTest using Java 11.0.12 on WIN-3N9M47L5BER with PID 18644 (started by User in D:\NewProjects\MyHospitalOne\MyHospital)
2022-01-30 22:02:37.051 DEBUG 18644 --- [main] c.i.m.s.impl.AppointmentServiceImplTest  : Running with Spring Boot v2.6.1, Spring v5.3.13
2022-01-30 22:02:37.051  INFO 18644 --- [main] c.i.m.s.impl.AppointmentServiceImplTest  : No active profile set, falling back to default profiles: default
2022-01-30 22:02:38.096  INFO 18644 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-01-30 22:02:38.224  INFO 18644 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 115 ms. Found 10 JPA repository interfaces.
2022-01-30 22:02:39.296  INFO 18644 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mvcConfig' of type [com.itacademy.myhospital.config.MvcConfig$$EnhancerBySpringCGLIB$$dbc4aee] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-01-30 22:02:40.564  INFO 18644 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.0.4 by Redgate
2022-01-30 22:02:40.565  INFO 18644 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:mysql://localhost:3306/my_hospital (MySQL 8.0)
2022-01-30 22:02:40.741  INFO 18644 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 15 migrations (execution time 00:00.122s)
2022-01-30 22:02:40.758  INFO 18644 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema `my_hospital`: 15
2022-01-30 22:02:40.759  INFO 18644 --- [main] o.f.core.internal.command.DbMigrate      : Schema `my_hospital` is up to date. No migration necessary.
2022-01-30 22:02:40.985  INFO 18644 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-01-30 22:02:41.037  INFO 18644 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2022-01-30 22:02:41.098  INFO 18644 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-01-30 22:02:41.251  INFO 18644 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-01-30 22:02:41.981  INFO 18644 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-01-30 22:02:41.992  INFO 18644 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-01-30 22:02:42.213  WARN 18644 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-01-30 22:02:43.465  INFO 18644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@593db293, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b5f06bb, org.springframework.security.web.header.HeaderWriterFilter@318f47f1, org.springframework.security.web.authentication.logout.LogoutFilter@7c1f3125, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2c9af700, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ec96512, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50ad5625, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1a16583d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5220e6ff, org.springframework.security.web.session.SessionManagementFilter@3280a79a, org.springframework.security.web.access.ExceptionTranslationFilter@510d4d4b]
2022-01-30 22:02:44.612  INFO 18644 --- [main] c.i.m.s.impl.AppointmentServiceImplTest  : Started AppointmentServiceImplTest in 7.929 seconds (JVM running for 9.36)
2022-01-30 22:02:44.764  INFO 18644 --- [main] c.i.myhospital.aop.LoggingAspect         : Request for com.itacademy.myhospital.service.impl.AppointmentServiceImpl.unblockAppointmentByDoctor() with arguments [s]=[1, myachin]
2022-01-30 22:02:44.777  INFO 18644 --- [main] c.i.myhospital.aop.LoggingAspect         : Request for com.itacademy.myhospital.service.impl.PersonServiceImpl.findPersonByUsernameOfUser() with arguments [s]=[myachin]
2022-01-30 22:02:44.785 ERROR 18644 --- [main] c.i.myhospital.aop.LoggingAspect         : Exception in com.itacademy.myhospital.service.impl.AppointmentServiceImpl.unblockAppointmentByDoctor with cause  = NULL , with message =  User doesn't have permissions to unblock the appointment
2022-01-30 22:02:44.830  INFO 18644 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2022-01-30 22:03:14.345  INFO 14368 --- [main] c.i.m.s.impl.AppointmentServiceImplTest  : Starting AppointmentServiceImplTest using Java 11.0.12 on WIN-3N9M47L5BER with PID 14368 (started by User in D:\NewProjects\MyHospitalOne\MyHospital)
2022-01-30 22:03:14.347 DEBUG 14368 --- [main] c.i.m.s.impl.AppointmentServiceImplTest  : Running with Spring Boot v2.6.1, Spring v5.3.13
2022-01-30 22:03:14.348  INFO 14368 --- [main] c.i.m.s.impl.AppointmentServiceImplTest  : No active profile set, falling back to default profiles: default
2022-01-30 22:03:15.601  INFO 14368 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-01-30 22:03:15.761  INFO 14368 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 145 ms. Found 10 JPA repository interfaces.
2022-01-30 22:03:17.013  INFO 14368 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mvcConfig' of type [com.itacademy.myhospital.config.MvcConfig$$EnhancerBySpringCGLIB$$83de7082] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-01-30 22:03:18.392  INFO 14368 --- [main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 8.0.4 by Redgate
2022-01-30 22:03:18.392  INFO 14368 --- [main] o.f.c.i.database.base.BaseDatabaseType   : Database: jdbc:mysql://localhost:3306/my_hospital (MySQL 8.0)
2022-01-30 22:03:18.474  INFO 14368 --- [main] o.f.core.internal.command.DbValidate     : Successfully validated 15 migrations (execution time 00:00.041s)
2022-01-30 22:03:18.491  INFO 14368 --- [main] o.f.core.internal.command.DbMigrate      : Current version of schema `my_hospital`: 15
2022-01-30 22:03:18.493  INFO 14368 --- [main] o.f.core.internal.command.DbMigrate      : Schema `my_hospital` is up to date. No migration necessary.
2022-01-30 22:03:18.734  INFO 14368 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2022-01-30 22:03:18.805  INFO 14368 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.1.Final
2022-01-30 22:03:18.886  INFO 14368 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-01-30 22:03:19.064  INFO 14368 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2022-01-30 22:03:19.812  INFO 14368 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-01-30 22:03:19.820  INFO 14368 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-01-30 22:03:20.017  WARN 14368 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2022-01-30 22:03:21.276  INFO 14368 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6421e9e7, org.springframework.security.web.context.SecurityContextPersistenceFilter@77cd1f67, org.springframework.security.web.header.HeaderWriterFilter@52ec5ba6, org.springframework.security.web.authentication.logout.LogoutFilter@1a16583d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@71c2cb26, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b9a1be5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c1f3125, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7e092ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@552b7481, org.springframework.security.web.session.SessionManagementFilter@198a653, org.springframework.security.web.access.ExceptionTranslationFilter@79fbcef4]
2022-01-30 22:03:22.475  INFO 14368 --- [main] c.i.m.s.impl.AppointmentServiceImplTest  : Started AppointmentServiceImplTest in 8.568 seconds (JVM running for 10.548)
2022-01-30 22:03:22.618  INFO 14368 --- [main] c.i.myhospital.aop.LoggingAspect         : Request for com.itacademy.myhospital.service.impl.AppointmentServiceImpl.unblockAppointmentByDoctor() with arguments [s]=[1, myachin]
2022-01-30 22:03:22.632  INFO 14368 --- [main] c.i.myhospital.aop.LoggingAspect         : Request for com.itacademy.myhospital.service.impl.PersonServiceImpl.findPersonByUsernameOfUser() with arguments [s]=[myachin]
2022-01-30 22:03:22.640 ERROR 14368 --- [main] c.i.myhospital.aop.LoggingAspect         : Exception in com.itacademy.myhospital.service.impl.AppointmentServiceImpl.unblockAppointmentByDoctor with cause  = NULL , with message =  User doesn't have permissions to unblock the appointment
2022-01-30 22:03:22.685  INFO 14368 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
